{% extends 'main/base-k.html' %}
{% load staticfiles %}




{% block title_block %}
Add Context: Instrument Host or Facility
{% endblock %}




{% block main_header_block %}
Add Context: Instrument Host or Facility

{% endblock %}



{% block body_block %}
<div class="row pt-2">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header black-text text-left z-depth-2">
                <p>Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational. Educational.</p>
                <h2 class="mb-0">
                    <button style="float:left" class="btn btn-teal" type="button"  data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        Add Instrument Host +
                    </button>
                </h2>
                <h2 class="mb-0">
                    <button style="float:right" class="btn btn-teal" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                        Add Facility +
                    </button>
                </h2>
            </div>
        </div>
    </div>
</div>
<br>
<div class="accordion" id="formAccordion">
    <div class="accordion-item">
        <div id="collapseOne" class="collapse" data-parent="#formAccordion" aria-labelledby="headingOne">
            <!--First row-->
            <div id="displayInstrumentHost">
                <div class="row pt-2">
                    <!--Column-->
                    <div class="col-md-12">
                        <h4 class="card-header stylish-color white-text text-center z-depth-2">Select your instrument host</h4>
                    </div>
                </div>
                <!--/.Column-->
            </div>
            <!--First row-->
            <!--Second row-->
            <div class="row pt-2">
                <!--Column-->
                <div class="col-md-12">
                    <form class="card-header black-text text-left z-depth-2" id="query01" method="post" action="{% url 'build:context_search_instrument_host_and_facility' bundle.pk investigation.pk %}">
                        <p>From the drop-down menu, select which type of host you plan to use. The initial selection will be <strong>instrument host</strong>(for mobile hosts) or <strong>facility</strong>(for stationary hosts). After selecting one of these two options you will be given a pull-down menu for the appropriate set. Instrument hosts include mobile platforms like spacecraft, rovers, landers, etc. whereas facilities include laboratories and observatories. If you plan to use telescopes and/or instruments not associated with a host, select the No Host option.</p>
                        
                        {% csrf_token %}
                        {{ form_instrument_host }}
                        
                        {{ form.errors }}
                        {{ form.non_field_errors }}
                        
                        <input type="submit" class="btn btn-default" value="Submit"/>
                        
                    </form> 
                </div>      
            </div>
            <!--/.Column-->
        </div>
    </div>
    <div class="accordion-item">
        <div id="collapseTwo" class="collapse" data-parent="#formAccordion" aria-labelledby="headingTwo">
            <!--First row-->
            <div id="displayFacility">
                <div class="row pt-2">
                    <!--Column-->
                    <div class="col-md-12">
                        <h4 class="card-header stylish-color white-text text-center z-depth-2">Select your facility</h4>
                    </div>
                </div>
                <!--/.Column-->
            </div>
            <!--First row-->
            <!--Second row-->
            <div class="row pt-2">
                <!--Column-->
                <div class="col-md-12">
                    <form class="card-header black-text text-left z-depth-2" id="query01" method="post" action="{% url 'build:context_search_instrument_host_and_facility' bundle.pk investigation.pk %}">
                        <p> Facilities are stationary hosts such as laboratories or observatories, and will contain references for lab instruments and/or telescopes with instruments. Please select your facility</p>
                        {% csrf_token %}
                        {{ form_facility }}
                        {{ form.errors }}
                        {{ form.non_field_errors }}
                        
                        <input type="submit" class="btn btn-default" value="Submit"/>
                        
                    </form> 
                </div>      
            </div>
            <!--/.Column-->
        </div>
    </div>
</div>

{% if instrument_host %}
<div class="row pt-2">
    <!--Column-->
    <div class="col-md-12">
        <h4 class="card-header stylish-color white-text text-center z-depth-2">Recently Added Instrument Host</h4>
    </br>
    <p class="card-header black-text text-left z-depth-2">Select an investigation below associated with your bundle to add instrument hosts from that investigation to your bundle. Resume the bundle building process by adding instrument hosts, instruments, and targets to ensure a most complete PDS4 bundle.</br>
    </p>
</div>
<!--/.Column-->
</div>
<hr>
<div class="card-header black-text text-left z-depth-2">
<div class="row">
    <!--Card-->
    <div class="col-sm-6 col-md-3">
        <ul>
            <div class="button">
                <!--Link-->
                <!-- change the href -->
                <a href="{% url 'build:context_search_instrument' bundle.pk investigation.pk instrument_host.pk %}">
                    <!--Card content-->
                    <div class="card-body">
                        <!--Title-->
                        <li> <h4 class="card-title">{{ instrument_host.name }}</h4></li>
                        <!--/.Title-->
                        <!--Text-->
                        <p class="card-text">{{ instrument_host.lid }} <br/><br/></p>
                        <!--/.Text-->
                    </div>
                    <!--/.Card content-->
                    <!--Image-->
                </a>
                <!--/.Link-->
            </div>
        </ul>
    </div>
    <!--/.Card-->
</div>
</div>
{% endif %}

{% if facility %}
<div class="row pt-2">
    <!--Column-->
    <div class="col-md-12">
        <h4 class="card-header stylish-color white-text text-center z-depth-2">Recently Added Facility</h4>
    </br>
    <p class="card-header black-text text-left z-depth-2">Select an investigation below associated with your bundle to add instrument hosts from that investigation to your bundle. Resume the bundle building process by adding instrument hosts, instruments, and targets to ensure a most complete PDS4 bundle.</br>
    </p>
</div>
<!--/.Column-->
</div>
<hr>
<div class="card-header black-text text-left z-depth-2">
<div class="row">
    <!--Card-->
    <div class="col-sm-6 col-md-3">
        <ul>
            {% if facility.type_of == "Laboratory" %}
            <div class="button">
                <!--Link-->
                <!-- change the href -->
                <a href="{% url 'build:context_search_facility_instrument' bundle.pk investigation.pk facility.pk %}">
                    <!--Card content-->
                    <div class="card-body">
                        <!--Title-->
                        <li> <h4 class="card-title">{{ facility.name }}</h4></li>
                        <!--/.Title-->
                        <!--Text-->
                        <p class="card-text">{{ facility.lid }} <br/><br/></p>
                        <!--/.Text-->
                    </div>
                    <!--/.Card content-->
                    <!--Image-->
                </a>
                <!--/.Link-->
            </div>
            {% else %}
            <div class="button">
                <!--Link-->
                <!-- change the href -->
                <a href="{% url 'build:context_search_telescope' bundle.pk investigation.pk facility.pk %}">
                    <!--Card content-->
                    <div class="card-body">
                        <!--Title-->
                        <li> <h4 class="card-title">{{ facility.name }}</h4></li>
                        <!--/.Title-->
                        <!--Text-->
                        <p class="card-text">{{ facility.lid }} <br/><br/></p>
                        <!--/.Text-->
                    </div>
                    <!--/.Card content-->
                    <!--Image-->
                </a>
                <!--/.Link-->
            </div>
            {% endif %}
        </ul>
    </div>
    <!--/.Card-->
</div>
</div>
{% endif %}

<div class="row pt-2">
    <div class="col-md-12 text-right ">
        <a href="{% url 'build:context_search' bundle.pk %}">
            <input type="submit" class="btn btn-default" value="Go Back to Context Search"/>
        </a>
    </div>
    <!--/.Column-->
</div>



{% endblock %}



{% block footie_block %}    
{% endblock %}

